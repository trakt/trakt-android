<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/tv/trakt/trakt/core/shows/di/ShowsModule.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/tv/trakt/trakt/core/shows/di/ShowsModule.kt" />
              <option name="originalContent" value="package tv.trakt.trakt.core.shows.di&#10;&#10;import org.koin.core.module.dsl.viewModel&#10;import org.koin.core.qualifier.named&#10;import org.koin.dsl.module&#10;import org.openapitools.client.apis.RecommendationsApi&#10;import org.openapitools.client.apis.ShowsApi&#10;import tv.trakt.trakt.common.Config.API_BASE_URL&#10;import tv.trakt.trakt.core.shows.ShowsViewModel&#10;import tv.trakt.trakt.core.shows.data.remote.ShowsApiClient&#10;import tv.trakt.trakt.core.shows.data.remote.ShowsRemoteDataSource&#10;import tv.trakt.trakt.core.shows.sections.anticipated.ShowsAnticipatedViewModel&#10;import tv.trakt.trakt.core.shows.sections.anticipated.usecase.GetAnticipatedShowsUseCase&#10;import tv.trakt.trakt.core.shows.sections.hot.ShowsHotViewModel&#10;import tv.trakt.trakt.core.shows.sections.hot.usecase.GetHotShowsUseCase&#10;import tv.trakt.trakt.core.shows.sections.popular.ShowsPopularViewModel&#10;import tv.trakt.trakt.core.shows.sections.popular.usecase.GetPopularShowsUseCase&#10;import tv.trakt.trakt.core.shows.sections.recommended.ShowsRecommendedViewModel&#10;import tv.trakt.trakt.core.shows.sections.recommended.data.local.RecommendedShowsLocalDataSource&#10;import tv.trakt.trakt.core.shows.sections.recommended.data.local.RecommendedShowsStorage&#10;import tv.trakt.trakt.core.shows.sections.recommended.usecase.GetRecommendedShowsUseCase&#10;import tv.trakt.trakt.core.shows.sections.trending.ShowsTrendingViewModel&#10;import tv.trakt.trakt.core.shows.sections.trending.data.local.TrendingShowsLocalDataSource&#10;import tv.trakt.trakt.core.shows.sections.trending.data.local.TrendingShowsStorage&#10;import tv.trakt.trakt.core.shows.sections.trending.usecase.GetTrendingShowsUseCase&#10;&#10;internal val showsDataModule = module {&#10;&#10;    single&lt;ShowsRemoteDataSource&gt; {&#10;        ShowsApiClient(&#10;            showsApi = ShowsApi(&#10;                baseUrl = API_BASE_URL,&#10;                httpClientEngine = get(),&#10;                httpClientConfig = get(named(&quot;clientConfig&quot;)),&#10;            ),&#10;            recommendationsApi = RecommendationsApi(&#10;                baseUrl = API_BASE_URL,&#10;                httpClientEngine = get(),&#10;                httpClientConfig = get(named(&quot;authorizedClientConfig&quot;)),&#10;            ),&#10;        )&#10;    }&#10;&#10;    single&lt;TrendingShowsLocalDataSource&gt; {&#10;        TrendingShowsStorage()&#10;    }&#10;&#10;    single&lt;RecommendedShowsLocalDataSource&gt; {&#10;        RecommendedShowsStorage()&#10;    }&#10;}&#10;&#10;internal val showsModule = module {&#10;    factory {&#10;        GetTrendingShowsUseCase(&#10;            remoteSource = get(),&#10;            localTrendingSource = get(),&#10;        )&#10;    }&#10;&#10;    factory {&#10;        GetHotShowsUseCase(&#10;            remoteSource = get(),&#10;        )&#10;    }&#10;&#10;    factory {&#10;        GetPopularShowsUseCase(&#10;            remoteSource = get(),&#10;        )&#10;    }&#10;&#10;    factory {&#10;        GetAnticipatedShowsUseCase(&#10;            remoteSource = get(),&#10;        )&#10;    }&#10;&#10;    factory {&#10;        GetRecommendedShowsUseCase(&#10;            remoteSource = get(),&#10;            localRecommendedSource = get(),&#10;        )&#10;    }&#10;&#10;    viewModel {&#10;        ShowsViewModel(&#10;            sessionManager = get(),&#10;        )&#10;    }&#10;&#10;    viewModel {&#10;        ShowsTrendingViewModel(&#10;            getTrendingUseCase = get(),&#10;        )&#10;    }&#10;&#10;    viewModel {&#10;        ShowsHotViewModel(&#10;            getHotUseCase = get(),&#10;        )&#10;    }&#10;&#10;    viewModel {&#10;        ShowsAnticipatedViewModel(&#10;            getAnticipatedUseCase = get(),&#10;        )&#10;    }&#10;&#10;    viewModel {&#10;        ShowsRecommendedViewModel(&#10;            getRecommendedUseCase = get(),&#10;        )&#10;    }&#10;&#10;    viewModel {&#10;        ShowsPopularViewModel(&#10;            getPopularUseCase = get(),&#10;        )&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package tv.trakt.trakt.core.shows.di&#10;&#10;import org.koin.core.module.dsl.viewModel&#10;import org.koin.core.qualifier.named&#10;import org.koin.dsl.module&#10;import org.openapitools.client.apis.RecommendationsApi&#10;import org.openapitools.client.apis.ShowsApi&#10;import tv.trakt.trakt.common.Config.API_BASE_URL&#10;import tv.trakt.trakt.core.shows.ShowsViewModel&#10;import tv.trakt.trakt.core.shows.data.remote.ShowsApiClient&#10;import tv.trakt.trakt.core.shows.data.remote.ShowsRemoteDataSource&#10;import tv.trakt.trakt.core.shows.sections.anticipated.ShowsAnticipatedViewModel&#10;import tv.trakt.trakt.core.shows.sections.anticipated.usecase.GetAnticipatedShowsUseCase&#10;import tv.trakt.trakt.core.shows.sections.hot.ShowsHotViewModel&#10;import tv.trakt.trakt.core.shows.sections.hot.usecase.GetHotShowsUseCase&#10;import tv.trakt.trakt.core.shows.sections.popular.ShowsPopularViewModel&#10;import tv.trakt.trakt.core.shows.sections.popular.usecase.GetPopularShowsUseCase&#10;import tv.trakt.trakt.core.shows.sections.recommended.ShowsRecommendedViewModel&#10;import tv.trakt.trakt.core.shows.sections.recommended.data.local.RecommendedShowsLocalDataSource&#10;import tv.trakt.trakt.core.shows.sections.recommended.data.local.RecommendedShowsStorage&#10;import tv.trakt.trakt.core.shows.sections.recommended.usecase.GetRecommendedShowsUseCase&#10;import tv.trakt.trakt.core.shows.sections.trending.ShowsTrendingViewModel&#10;import tv.trakt.trakt.core.shows.sections.trending.data.local.TrendingShowsLocalDataSource&#10;import tv.trakt.trakt.core.shows.sections.trending.data.local.TrendingShowsStorage&#10;import tv.trakt.trakt.core.shows.sections.trending.usecase.GetTrendingShowsUseCase&#10;&#10;internal val showsDataModule = module {&#10;&#10;    single&lt;ShowsRemoteDataSource&gt; {&#10;        ShowsApiClient(&#10;            showsApi = ShowsApi(&#10;                baseUrl = API_BASE_URL,&#10;                httpClientEngine = get(),&#10;                httpClientConfig = get(named(&quot;clientConfig&quot;)),&#10;            ),&#10;            recommendationsApi = RecommendationsApi(&#10;                baseUrl = API_BASE_URL,&#10;                httpClientEngine = get(),&#10;                httpClientConfig = get(named(&quot;authorizedClientConfig&quot;)),&#10;            ),&#10;        )&#10;    }&#10;&#10;    single&lt;TrendingShowsLocalDataSource&gt; {&#10;        TrendingShowsStorage()&#10;    }&#10;&#10;    single&lt;RecommendedShowsLocalDataSource&gt; {&#10;        RecommendedShowsStorage()&#10;    }&#10;&#10;    single&lt;PopularShowsLocalDataSource&gt; {&#10;        PopularShowsStorage()&#10;    }&#10;&#10;    single&lt;HotShowsLocalDataSource&gt; {&#10;        HotShowsStorage()&#10;    }&#10;&#10;    single&lt;AnticipatedShowsLocalDataSource&gt; {&#10;        AnticipatedShowsStorage()&#10;    }&#10;}&#10;&#10;internal val showsModule = module {&#10;    factory {&#10;        GetTrendingShowsUseCase(&#10;            remoteSource = get(),&#10;            localTrendingSource = get(),&#10;        )&#10;    }&#10;&#10;    factory {&#10;        GetHotShowsUseCase(&#10;            remoteSource = get(),&#10;        )&#10;    }&#10;&#10;    factory {&#10;        GetPopularShowsUseCase(&#10;            remoteSource = get(),&#10;        )&#10;    }&#10;&#10;    factory {&#10;        GetAnticipatedShowsUseCase(&#10;            remoteSource = get(),&#10;        )&#10;    }&#10;&#10;    factory {&#10;        GetRecommendedShowsUseCase(&#10;            remoteSource = get(),&#10;            localRecommendedSource = get(),&#10;        )&#10;    }&#10;&#10;    viewModel {&#10;        ShowsViewModel(&#10;            sessionManager = get(),&#10;        )&#10;    }&#10;&#10;    viewModel {&#10;        ShowsTrendingViewModel(&#10;            getTrendingUseCase = get(),&#10;        )&#10;    }&#10;&#10;    viewModel {&#10;        ShowsHotViewModel(&#10;            getHotUseCase = get(),&#10;        )&#10;    }&#10;&#10;    viewModel {&#10;        ShowsAnticipatedViewModel(&#10;            getAnticipatedUseCase = get(),&#10;        )&#10;    }&#10;&#10;    viewModel {&#10;        ShowsRecommendedViewModel(&#10;            getRecommendedUseCase = get(),&#10;        )&#10;    }&#10;&#10;    viewModel {&#10;        ShowsPopularViewModel(&#10;            getPopularUseCase = get(),&#10;        )&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/tv/trakt/trakt/core/shows/sections/anticipated/ShowsAnticipatedView.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/tv/trakt/trakt/core/shows/sections/anticipated/ShowsAnticipatedView.kt" />
              <option name="originalContent" value="package tv.trakt.trakt.core.shows.sections.anticipated&#10;&#10;import androidx.compose.animation.Crossfade&#10;import androidx.compose.animation.core.tween&#10;import androidx.compose.foundation.layout.Arrangement&#10;import androidx.compose.foundation.layout.Arrangement.spacedBy&#10;import androidx.compose.foundation.layout.Column&#10;import androidx.compose.foundation.layout.PaddingValues&#10;import androidx.compose.foundation.layout.Row&#10;import androidx.compose.foundation.layout.fillMaxWidth&#10;import androidx.compose.foundation.layout.padding&#10;import androidx.compose.foundation.lazy.LazyRow&#10;import androidx.compose.foundation.lazy.items&#10;import androidx.compose.material3.Text&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.runtime.getValue&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.draw.alpha&#10;import androidx.compose.ui.res.stringResource&#10;import androidx.compose.ui.tooling.preview.Preview&#10;import androidx.lifecycle.compose.collectAsStateWithLifecycle&#10;import kotlinx.collections.immutable.ImmutableList&#10;import kotlinx.collections.immutable.toImmutableList&#10;import org.koin.androidx.compose.koinViewModel&#10;import tv.trakt.trakt.common.R&#10;import tv.trakt.trakt.common.helpers.LoadingState.DONE&#10;import tv.trakt.trakt.common.helpers.LoadingState.IDLE&#10;import tv.trakt.trakt.common.helpers.LoadingState.LOADING&#10;import tv.trakt.trakt.common.helpers.extensions.thousandsFormat&#10;import tv.trakt.trakt.core.shows.model.WatchersShow&#10;import tv.trakt.trakt.ui.components.InfoChip&#10;import tv.trakt.trakt.ui.components.mediacards.VerticalMediaCard&#10;import tv.trakt.trakt.ui.components.mediacards.skeletons.VerticalMediaSkeletonCard&#10;import tv.trakt.trakt.ui.theme.TraktTheme&#10;&#10;@Composable&#10;internal fun ShowsAnticipatedView(&#10;    modifier: Modifier = Modifier,&#10;    viewModel: ShowsAnticipatedViewModel = koinViewModel(),&#10;    headerPadding: PaddingValues,&#10;    contentPadding: PaddingValues,&#10;) {&#10;    val state by viewModel.state.collectAsStateWithLifecycle()&#10;&#10;    ShowsAnticipatedContent(&#10;        state = state,&#10;        modifier = modifier,&#10;        headerPadding = headerPadding,&#10;        contentPadding = contentPadding,&#10;    )&#10;}&#10;&#10;@Composable&#10;internal fun ShowsAnticipatedContent(&#10;    state: ShowsAnticipatedState,&#10;    modifier: Modifier = Modifier,&#10;    headerPadding: PaddingValues = PaddingValues(),&#10;    contentPadding: PaddingValues = PaddingValues(),&#10;) {&#10;    Column(&#10;        verticalArrangement = spacedBy(TraktTheme.spacing.mainRowHeaderSpace),&#10;        modifier = modifier,&#10;    ) {&#10;        Row(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .padding(headerPadding),&#10;            horizontalArrangement = Arrangement.SpaceBetween,&#10;            verticalAlignment = Alignment.CenterVertically,&#10;        ) {&#10;            Text(&#10;                text = stringResource(R.string.header_most_anticipated),&#10;                color = TraktTheme.colors.textPrimary,&#10;                style = TraktTheme.typography.heading5,&#10;            )&#10;            Text(&#10;                text = stringResource(R.string.view_all).uppercase(),&#10;                color = TraktTheme.colors.textSecondary,&#10;                style = TraktTheme.typography.buttonTertiary,&#10;            )&#10;        }&#10;&#10;        Crossfade(&#10;            targetState = state.loading,&#10;            animationSpec = tween(200),&#10;        ) { loading -&gt;&#10;            when (loading) {&#10;                IDLE, LOADING -&gt; {&#10;                    ContentLoadingList(&#10;                        visible = loading.isLoading,&#10;                        contentPadding = contentPadding,&#10;                    )&#10;                }&#10;                DONE -&gt; {&#10;                    ContentList(&#10;                        listItems = { state.items ?: emptyList&lt;WatchersShow&gt;().toImmutableList() },&#10;                        contentPadding = contentPadding,&#10;                    )&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun ContentLoadingList(&#10;    visible: Boolean = true,&#10;    contentPadding: PaddingValues,&#10;) {&#10;    LazyRow(&#10;        horizontalArrangement = spacedBy(TraktTheme.spacing.mainRowSpace),&#10;        contentPadding = contentPadding,&#10;        modifier = Modifier&#10;            .fillMaxWidth()&#10;            .alpha(if (visible) 1F else 0F),&#10;    ) {&#10;        items(count = 6) {&#10;            VerticalMediaSkeletonCard()&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun ContentList(&#10;    listItems: () -&gt; ImmutableList&lt;WatchersShow&gt;,&#10;    contentPadding: PaddingValues,&#10;) {&#10;    LazyRow(&#10;        modifier = Modifier.fillMaxWidth(),&#10;        horizontalArrangement = spacedBy(TraktTheme.spacing.mainRowSpace),&#10;        contentPadding = contentPadding,&#10;    ) {&#10;        items(&#10;            items = listItems(),&#10;            key = { it.show.ids.trakt.value },&#10;        ) { item -&gt;&#10;            ContentListItem(&#10;                item = item,&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun ContentListItem(&#10;    item: WatchersShow,&#10;    onClick: () -&gt; Unit = {},&#10;) {&#10;    VerticalMediaCard(&#10;        title = item.show.title,&#10;        imageUrl = item.show.images?.getPosterUrl(),&#10;        onClick = onClick,&#10;        chipContent = {&#10;            InfoChip(&#10;                text = stringResource(R.string.people_eager, item.watchers.thousandsFormat()),&#10;            )&#10;        },&#10;    )&#10;}&#10;&#10;@Preview(&#10;    device = &quot;id:pixel_5&quot;,&#10;    showBackground = true,&#10;    backgroundColor = 0xFF131517,&#10;)&#10;@Composable&#10;private fun Preview() {&#10;    TraktTheme {&#10;        ShowsAnticipatedContent(&#10;            state = ShowsAnticipatedState(&#10;                loading = IDLE,&#10;            ),&#10;        )&#10;    }&#10;}&#10;&#10;@Preview(&#10;    device = &quot;id:pixel_5&quot;,&#10;    showBackground = true,&#10;    backgroundColor = 0xFF131517,&#10;)&#10;@Composable&#10;private fun Preview2() {&#10;    TraktTheme {&#10;        ShowsAnticipatedContent(&#10;            state = ShowsAnticipatedState(&#10;                loading = LOADING,&#10;            ),&#10;        )&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package tv.trakt.trakt.core.shows.sections.anticipated&#10;&#10;import androidx.compose.animation.Crossfade&#10;import androidx.compose.animation.core.tween&#10;import androidx.compose.foundation.layout.Arrangement&#10;import androidx.compose.foundation.layout.Arrangement.spacedBy&#10;import androidx.compose.foundation.layout.Column&#10;import androidx.compose.foundation.layout.PaddingValues&#10;import androidx.compose.foundation.layout.Row&#10;import androidx.compose.foundation.layout.fillMaxWidth&#10;import androidx.compose.foundation.layout.padding&#10;import androidx.compose.foundation.lazy.LazyRow&#10;import androidx.compose.foundation.lazy.items&#10;import androidx.compose.foundation.lazy.rememberLazyListState&#10;import androidx.compose.material3.Text&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.runtime.LaunchedEffect&#10;import androidx.compose.runtime.getValue&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.draw.alpha&#10;import androidx.compose.ui.res.stringResource&#10;import androidx.compose.ui.tooling.preview.Preview&#10;import androidx.lifecycle.compose.collectAsStateWithLifecycle&#10;import kotlinx.collections.immutable.ImmutableList&#10;import kotlinx.collections.immutable.toImmutableList&#10;import org.koin.androidx.compose.koinViewModel&#10;import tv.trakt.trakt.common.R&#10;import tv.trakt.trakt.common.helpers.LoadingState.DONE&#10;import tv.trakt.trakt.common.helpers.LoadingState.IDLE&#10;import tv.trakt.trakt.common.helpers.LoadingState.LOADING&#10;import tv.trakt.trakt.common.helpers.extensions.thousandsFormat&#10;import tv.trakt.trakt.core.shows.model.WatchersShow&#10;import tv.trakt.trakt.ui.components.InfoChip&#10;import tv.trakt.trakt.ui.components.mediacards.VerticalMediaCard&#10;import tv.trakt.trakt.ui.components.mediacards.skeletons.VerticalMediaSkeletonCard&#10;import tv.trakt.trakt.ui.theme.TraktTheme&#10;&#10;@Composable&#10;internal fun ShowsAnticipatedView(&#10;    modifier: Modifier = Modifier,&#10;    viewModel: ShowsAnticipatedViewModel = koinViewModel(),&#10;    headerPadding: PaddingValues,&#10;    contentPadding: PaddingValues,&#10;) {&#10;    val state by viewModel.state.collectAsStateWithLifecycle()&#10;&#10;    ShowsAnticipatedContent(&#10;        state = state,&#10;        modifier = modifier,&#10;        headerPadding = headerPadding,&#10;        contentPadding = contentPadding,&#10;    )&#10;}&#10;&#10;@Composable&#10;internal fun ShowsAnticipatedContent(&#10;    state: ShowsAnticipatedState,&#10;    modifier: Modifier = Modifier,&#10;    headerPadding: PaddingValues = PaddingValues(),&#10;    contentPadding: PaddingValues = PaddingValues(),&#10;) {&#10;    Column(&#10;        verticalArrangement = spacedBy(TraktTheme.spacing.mainRowHeaderSpace),&#10;        modifier = modifier,&#10;    ) {&#10;        Row(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .padding(headerPadding),&#10;            horizontalArrangement = Arrangement.SpaceBetween,&#10;            verticalAlignment = Alignment.CenterVertically,&#10;        ) {&#10;            Text(&#10;                text = stringResource(R.string.header_most_anticipated),&#10;                color = TraktTheme.colors.textPrimary,&#10;                style = TraktTheme.typography.heading5,&#10;            )&#10;            Text(&#10;                text = stringResource(R.string.view_all).uppercase(),&#10;                color = TraktTheme.colors.textSecondary,&#10;                style = TraktTheme.typography.buttonTertiary,&#10;            )&#10;        }&#10;&#10;        Crossfade(&#10;            targetState = state.loading,&#10;            animationSpec = tween(200),&#10;        ) { loading -&gt;&#10;            when (loading) {&#10;                IDLE, LOADING -&gt; {&#10;                    ContentLoadingList(&#10;                        visible = loading.isLoading,&#10;                        contentPadding = contentPadding,&#10;                    )&#10;                }&#10;                DONE -&gt; {&#10;                    ContentList(&#10;                        listItems = { state.items ?: emptyList&lt;WatchersShow&gt;().toImmutableList() },&#10;                        contentPadding = contentPadding,&#10;                    )&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun ContentLoadingList(&#10;    visible: Boolean = true,&#10;    contentPadding: PaddingValues,&#10;) {&#10;    LazyRow(&#10;        horizontalArrangement = spacedBy(TraktTheme.spacing.mainRowSpace),&#10;        contentPadding = contentPadding,&#10;        modifier = Modifier&#10;            .fillMaxWidth()&#10;            .alpha(if (visible) 1F else 0F),&#10;    ) {&#10;        items(count = 6) {&#10;            VerticalMediaSkeletonCard()&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun ContentList(&#10;    listItems: () -&gt; ImmutableList&lt;WatchersShow&gt;,&#10;    contentPadding: PaddingValues,&#10;) {&#10;    val state = rememberLazyListState()&#10;&#10;    LaunchedEffect(listItems()) {&#10;        state.animateScrollToItem(0)&#10;    }&#10;&#10;    LazyRow(&#10;        state = state,&#10;        modifier = Modifier.fillMaxWidth(),&#10;        horizontalArrangement = spacedBy(TraktTheme.spacing.mainRowSpace),&#10;        contentPadding = contentPadding,&#10;    ) {&#10;        items(&#10;            items = listItems(),&#10;            key = { it.show.ids.trakt.value },&#10;        ) { item -&gt;&#10;            ContentListItem(&#10;                item = item,&#10;                modifier = Modifier.animateItem(&#10;                    fadeInSpec = null,&#10;                    fadeOutSpec = null,&#10;                ),&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun ContentListItem(&#10;    item: WatchersShow,&#10;    modifier: Modifier = Modifier,&#10;    onClick: () -&gt; Unit = {},&#10;) {&#10;    VerticalMediaCard(&#10;        title = item.show.title,&#10;        imageUrl = item.show.images?.getPosterUrl(),&#10;        onClick = onClick,&#10;        chipContent = {&#10;            InfoChip(&#10;                text = stringResource(R.string.people_eager, item.watchers.thousandsFormat()),&#10;            )&#10;        },&#10;        modifier = modifier,&#10;    )&#10;}&#10;&#10;@Preview(&#10;    device = &quot;id:pixel_5&quot;,&#10;    showBackground = true,&#10;    backgroundColor = 0xFF131517,&#10;)&#10;@Composable&#10;private fun Preview() {&#10;    TraktTheme {&#10;        ShowsAnticipatedContent(&#10;            state = ShowsAnticipatedState(&#10;                loading = IDLE,&#10;            ),&#10;        )&#10;    }&#10;}&#10;&#10;@Preview(&#10;    device = &quot;id:pixel_5&quot;,&#10;    showBackground = true,&#10;    backgroundColor = 0xFF131517,&#10;)&#10;@Composable&#10;private fun Preview2() {&#10;    TraktTheme {&#10;        ShowsAnticipatedContent(&#10;            state = ShowsAnticipatedState(&#10;                loading = LOADING,&#10;            ),&#10;        )&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/tv/trakt/trakt/core/shows/sections/anticipated/data/local/AnticipatedShowsLocalDataSource.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/tv/trakt/trakt/core/shows/sections/anticipated/data/local/AnticipatedShowsLocalDataSource.kt" />
              <option name="updatedContent" value="package tv.trakt.trakt.core.shows.sections.anticipated.data.local&#10;&#10;import tv.trakt.trakt.core.shows.model.WatchersShow&#10;import java.time.Instant&#10;&#10;internal interface AnticipatedShowsLocalDataSource {&#10;    suspend fun addShows(&#10;        shows: List&lt;WatchersShow&gt;,&#10;        addedAt: Instant = Instant.now(),&#10;    )&#10;&#10;    suspend fun getShows(): List&lt;WatchersShow&gt;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/tv/trakt/trakt/core/shows/sections/anticipated/data/local/AnticipatedShowsStorage.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/tv/trakt/trakt/core/shows/sections/anticipated/data/local/AnticipatedShowsStorage.kt" />
              <option name="updatedContent" value="package tv.trakt.trakt.core.shows.sections.anticipated.data.local&#10;&#10;import kotlinx.coroutines.sync.Mutex&#10;import kotlinx.coroutines.sync.withLock&#10;import tv.trakt.trakt.common.model.TraktId&#10;import tv.trakt.trakt.core.shows.model.WatchersShow&#10;import java.time.Instant&#10;&#10;internal class AnticipatedShowsStorage : AnticipatedShowsLocalDataSource {&#10;    private val mutex = Mutex()&#10;    private val showsCache = mutableMapOf&lt;TraktId, WatchersShow&gt;()&#10;&#10;    override suspend fun addShows(&#10;        shows: List&lt;WatchersShow&gt;,&#10;        addedAt: Instant,&#10;    ) {&#10;        mutex.withLock {&#10;            with(showsCache) {&#10;                clear()&#10;                putAll(shows.associateBy { it.show.ids.trakt })&#10;            }&#10;        }&#10;    }&#10;&#10;    override suspend fun getShows(): List&lt;WatchersShow&gt; {&#10;        return mutex.withLock {&#10;            showsCache.values.toList()&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/tv/trakt/trakt/core/shows/sections/anticipated/usecase/GetAnticipatedShowsUseCase.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/tv/trakt/trakt/core/shows/sections/anticipated/usecase/GetAnticipatedShowsUseCase.kt" />
              <option name="originalContent" value="package tv.trakt.trakt.core.shows.sections.anticipated.usecase&#10;&#10;import kotlinx.collections.immutable.ImmutableList&#10;import kotlinx.collections.immutable.toImmutableList&#10;import tv.trakt.trakt.common.helpers.extensions.asyncMap&#10;import tv.trakt.trakt.common.model.Show&#10;import tv.trakt.trakt.common.model.fromDto&#10;import tv.trakt.trakt.core.shows.data.remote.ShowsRemoteDataSource&#10;import tv.trakt.trakt.core.shows.model.WatchersShow&#10;&#10;internal class GetAnticipatedShowsUseCase(&#10;    private val remoteSource: ShowsRemoteDataSource,&#10;) {&#10;    suspend fun getAnticipatedShows(): ImmutableList&lt;WatchersShow&gt; {&#10;        return remoteSource.getAnticipated(20)&#10;            .asyncMap {&#10;                WatchersShow(&#10;                    watchers = it.listCount,&#10;                    show = Show.fromDto(it.show),&#10;                )&#10;            }&#10;            .toImmutableList()&#10;            .also { shows -&gt;&#10;//                localSource.upsertShows(shows.map { it.show })&#10;            }&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package tv.trakt.trakt.core.shows.sections.anticipated.usecase&#10;&#10;import kotlinx.collections.immutable.ImmutableList&#10;import kotlinx.collections.immutable.toImmutableList&#10;import tv.trakt.trakt.common.helpers.extensions.asyncMap&#10;import tv.trakt.trakt.common.model.Show&#10;import tv.trakt.trakt.common.model.fromDto&#10;import tv.trakt.trakt.core.shows.data.remote.ShowsRemoteDataSource&#10;import tv.trakt.trakt.core.shows.model.WatchersShow&#10;import tv.trakt.trakt.core.shows.sections.anticipated.data.local.AnticipatedShowsLocalDataSource&#10;import java.time.Instant&#10;&#10;internal class GetAnticipatedShowsUseCase(&#10;    private val remoteSource: ShowsRemoteDataSource,&#10;    private val localAnticipatedSource: AnticipatedShowsLocalDataSource,&#10;) {&#10;    suspend fun getLocalShows(): ImmutableList&lt;WatchersShow&gt; {&#10;        return localAnticipatedSource.getShows()&#10;            .sortedByDescending { it.watchers }&#10;            .toImmutableList()&#10;    }&#10;&#10;    suspend fun getAnticipatedShows(): ImmutableList&lt;WatchersShow&gt; {&#10;        return remoteSource.getAnticipated(20)&#10;            .asyncMap {&#10;                WatchersShow(&#10;                    watchers = it.listCount,&#10;                    show = Show.fromDto(it.show),&#10;                )&#10;            }&#10;            .toImmutableList()&#10;            .also { shows -&gt;&#10;                localAnticipatedSource.addShows(&#10;                    shows = shows,&#10;                    addedAt = Instant.now(),&#10;                )&#10;            }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/tv/trakt/trakt/core/shows/sections/hot/ShowsHotView.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/tv/trakt/trakt/core/shows/sections/hot/ShowsHotView.kt" />
              <option name="originalContent" value="package tv.trakt.trakt.core.shows.sections.hot&#10;&#10;import androidx.compose.animation.Crossfade&#10;import androidx.compose.animation.core.tween&#10;import androidx.compose.foundation.layout.Arrangement&#10;import androidx.compose.foundation.layout.Arrangement.spacedBy&#10;import androidx.compose.foundation.layout.Column&#10;import androidx.compose.foundation.layout.PaddingValues&#10;import androidx.compose.foundation.layout.Row&#10;import androidx.compose.foundation.layout.fillMaxWidth&#10;import androidx.compose.foundation.layout.padding&#10;import androidx.compose.foundation.lazy.LazyRow&#10;import androidx.compose.foundation.lazy.items&#10;import androidx.compose.material3.Text&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.runtime.getValue&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.draw.alpha&#10;import androidx.compose.ui.res.stringResource&#10;import androidx.compose.ui.tooling.preview.Preview&#10;import androidx.lifecycle.compose.collectAsStateWithLifecycle&#10;import kotlinx.collections.immutable.ImmutableList&#10;import kotlinx.collections.immutable.toImmutableList&#10;import org.koin.androidx.compose.koinViewModel&#10;import tv.trakt.trakt.common.R&#10;import tv.trakt.trakt.common.helpers.LoadingState.DONE&#10;import tv.trakt.trakt.common.helpers.LoadingState.IDLE&#10;import tv.trakt.trakt.common.helpers.LoadingState.LOADING&#10;import tv.trakt.trakt.common.helpers.extensions.thousandsFormat&#10;import tv.trakt.trakt.core.shows.model.WatchersShow&#10;import tv.trakt.trakt.ui.components.InfoChip&#10;import tv.trakt.trakt.ui.components.mediacards.VerticalMediaCard&#10;import tv.trakt.trakt.ui.components.mediacards.skeletons.VerticalMediaSkeletonCard&#10;import tv.trakt.trakt.ui.theme.TraktTheme&#10;&#10;@Composable&#10;internal fun ShowsHotView(&#10;    modifier: Modifier = Modifier,&#10;    viewModel: ShowsHotViewModel = koinViewModel(),&#10;    headerPadding: PaddingValues,&#10;    contentPadding: PaddingValues,&#10;) {&#10;    val state by viewModel.state.collectAsStateWithLifecycle()&#10;&#10;    ShowsHotContent(&#10;        state = state,&#10;        modifier = modifier,&#10;        headerPadding = headerPadding,&#10;        contentPadding = contentPadding,&#10;    )&#10;}&#10;&#10;@Composable&#10;internal fun ShowsHotContent(&#10;    state: ShowsHotState,&#10;    modifier: Modifier = Modifier,&#10;    headerPadding: PaddingValues = PaddingValues(),&#10;    contentPadding: PaddingValues = PaddingValues(),&#10;) {&#10;    Column(&#10;        verticalArrangement = spacedBy(TraktTheme.spacing.mainRowHeaderSpace),&#10;        modifier = modifier,&#10;    ) {&#10;        Row(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .padding(headerPadding),&#10;            horizontalArrangement = Arrangement.SpaceBetween,&#10;            verticalAlignment = Alignment.CenterVertically,&#10;        ) {&#10;            Text(&#10;                text = stringResource(R.string.header_hot_month),&#10;                color = TraktTheme.colors.textPrimary,&#10;                style = TraktTheme.typography.heading5,&#10;            )&#10;            Text(&#10;                text = stringResource(R.string.view_all).uppercase(),&#10;                color = TraktTheme.colors.textSecondary,&#10;                style = TraktTheme.typography.buttonTertiary,&#10;            )&#10;        }&#10;&#10;        Crossfade(&#10;            targetState = state.loading,&#10;            animationSpec = tween(200),&#10;        ) { loading -&gt;&#10;            when (loading) {&#10;                IDLE, LOADING -&gt; {&#10;                    ContentLoadingList(&#10;                        visible = loading.isLoading,&#10;                        contentPadding = contentPadding,&#10;                    )&#10;                }&#10;                DONE -&gt; {&#10;                    ContentList(&#10;                        listItems = { state.items ?: emptyList&lt;WatchersShow&gt;().toImmutableList() },&#10;                        contentPadding = contentPadding,&#10;                    )&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun ContentLoadingList(&#10;    visible: Boolean = true,&#10;    contentPadding: PaddingValues,&#10;) {&#10;    LazyRow(&#10;        horizontalArrangement = spacedBy(TraktTheme.spacing.mainRowSpace),&#10;        contentPadding = contentPadding,&#10;        modifier = Modifier&#10;            .fillMaxWidth()&#10;            .alpha(if (visible) 1F else 0F),&#10;    ) {&#10;        items(count = 6) {&#10;            VerticalMediaSkeletonCard()&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun ContentList(&#10;    listItems: () -&gt; ImmutableList&lt;WatchersShow&gt;,&#10;    contentPadding: PaddingValues,&#10;) {&#10;    LazyRow(&#10;        modifier = Modifier.fillMaxWidth(),&#10;        horizontalArrangement = spacedBy(TraktTheme.spacing.mainRowSpace),&#10;        contentPadding = contentPadding,&#10;    ) {&#10;        items(&#10;            items = listItems(),&#10;            key = { it.show.ids.trakt.value },&#10;        ) { item -&gt;&#10;            ContentListItem(&#10;                item = item,&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun ContentListItem(&#10;    item: WatchersShow,&#10;    onClick: () -&gt; Unit = {},&#10;) {&#10;    VerticalMediaCard(&#10;        title = item.show.title,&#10;        imageUrl = item.show.images?.getPosterUrl(),&#10;        onClick = onClick,&#10;        chipContent = {&#10;            InfoChip(&#10;                text = stringResource(R.string.people_eager, item.watchers.thousandsFormat()),&#10;            )&#10;        },&#10;    )&#10;}&#10;&#10;@Preview(&#10;    device = &quot;id:pixel_5&quot;,&#10;    showBackground = true,&#10;    backgroundColor = 0xFF131517,&#10;)&#10;@Composable&#10;private fun Preview() {&#10;    TraktTheme {&#10;        ShowsHotContent(&#10;            state = ShowsHotState(&#10;                loading = IDLE,&#10;            ),&#10;        )&#10;    }&#10;}&#10;&#10;@Preview(&#10;    device = &quot;id:pixel_5&quot;,&#10;    showBackground = true,&#10;    backgroundColor = 0xFF131517,&#10;)&#10;@Composable&#10;private fun Preview2() {&#10;    TraktTheme {&#10;        ShowsHotContent(&#10;            state = ShowsHotState(&#10;                loading = LOADING,&#10;            ),&#10;        )&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package tv.trakt.trakt.core.shows.sections.hot&#10;&#10;import androidx.compose.animation.Crossfade&#10;import androidx.compose.animation.core.tween&#10;import androidx.compose.foundation.layout.Arrangement&#10;import androidx.compose.foundation.layout.Arrangement.spacedBy&#10;import androidx.compose.foundation.layout.Column&#10;import androidx.compose.foundation.layout.PaddingValues&#10;import androidx.compose.foundation.layout.Row&#10;import androidx.compose.foundation.layout.fillMaxWidth&#10;import androidx.compose.foundation.layout.padding&#10;import androidx.compose.foundation.lazy.LazyRow&#10;import androidx.compose.foundation.lazy.items&#10;import androidx.compose.foundation.lazy.rememberLazyListState&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.runtime.LaunchedEffect&#10;import androidx.compose.runtime.getValue&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.draw.alpha&#10;import androidx.compose.ui.res.stringResource&#10;import androidx.compose.ui.tooling.preview.Preview&#10;import androidx.lifecycle.compose.collectAsStateWithLifecycle&#10;import kotlinx.collections.immutable.ImmutableList&#10;import kotlinx.collections.immutable.toImmutableList&#10;import org.koin.androidx.compose.koinViewModel&#10;import tv.trakt.trakt.common.R&#10;import tv.trakt.trakt.common.helpers.LoadingState.DONE&#10;import tv.trakt.trakt.common.helpers.LoadingState.IDLE&#10;import tv.trakt.trakt.common.helpers.LoadingState.LOADING&#10;import tv.trakt.trakt.common.helpers.extensions.thousandsFormat&#10;import tv.trakt.trakt.core.shows.model.WatchersShow&#10;import tv.trakt.trakt.ui.components.InfoChip&#10;import tv.trakt.trakt.ui.components.mediacards.VerticalMediaCard&#10;import tv.trakt.trakt.ui.components.mediacards.skeletons.VerticalMediaSkeletonCard&#10;import tv.trakt.trakt.ui.theme.TraktTheme&#10;&#10;@Composable&#10;internal fun ShowsHotView(&#10;    modifier: Modifier = Modifier,&#10;    viewModel: ShowsHotViewModel = koinViewModel(),&#10;    headerPadding: PaddingValues,&#10;    contentPadding: PaddingValues,&#10;) {&#10;    val state by viewModel.state.collectAsStateWithLifecycle()&#10;&#10;    ShowsHotContent(&#10;        state = state,&#10;        modifier = modifier,&#10;        headerPadding = headerPadding,&#10;        contentPadding = contentPadding,&#10;    )&#10;}&#10;&#10;@Composable&#10;internal fun ShowsHotContent(&#10;    state: ShowsHotState,&#10;    modifier: Modifier = Modifier,&#10;    headerPadding: PaddingValues = PaddingValues(),&#10;    contentPadding: PaddingValues = PaddingValues(),&#10;) {&#10;    Column(&#10;        verticalArrangement = spacedBy(TraktTheme.spacing.mainRowHeaderSpace),&#10;        modifier = modifier,&#10;    ) {&#10;        Row(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .padding(headerPadding),&#10;            horizontalArrangement = Arrangement.SpaceBetween,&#10;            verticalAlignment = Alignment.CenterVertically,&#10;        ) {&#10;            Text(&#10;                text = stringResource(R.string.header_hot_month),&#10;                color = TraktTheme.colors.textPrimary,&#10;                style = TraktTheme.typography.heading5,&#10;            )&#10;            Text(&#10;                text = stringResource(R.string.view_all).uppercase(),&#10;                color = TraktTheme.colors.textSecondary,&#10;                style = TraktTheme.typography.buttonTertiary,&#10;            )&#10;        }&#10;&#10;        Crossfade(&#10;            targetState = state.loading,&#10;            animationSpec = tween(200),&#10;        ) { loading -&gt;&#10;            when (loading) {&#10;                IDLE, LOADING -&gt; {&#10;                    ContentLoadingList(&#10;                        visible = loading.isLoading,&#10;                        contentPadding = contentPadding,&#10;                    )&#10;                }&#10;                DONE -&gt; {&#10;                    ContentList(&#10;                        listItems = { state.items ?: emptyList&lt;WatchersShow&gt;().toImmutableList() },&#10;                        contentPadding = contentPadding,&#10;                    )&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun ContentLoadingList(&#10;    visible: Boolean = true,&#10;    contentPadding: PaddingValues,&#10;) {&#10;    LazyRow(&#10;        horizontalArrangement = spacedBy(TraktTheme.spacing.mainRowSpace),&#10;        contentPadding = contentPadding,&#10;        modifier = Modifier&#10;            .fillMaxWidth()&#10;            .alpha(if (visible) 1F else 0F),&#10;    ) {&#10;        items(count = 6) {&#10;            VerticalMediaSkeletonCard()&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun ContentList(&#10;    listItems: () -&gt; ImmutableList&lt;WatchersShow&gt;,&#10;    contentPadding: PaddingValues,&#10;) {&#10;    val state = rememberLazyListState()&#10;&#10;    LaunchedEffect(listItems()) {&#10;        state.animateScrollToItem(0)&#10;    }&#10;&#10;    LazyRow(&#10;        state = state,&#10;        modifier = Modifier.fillMaxWidth(),&#10;        horizontalArrangement = spacedBy(TraktTheme.spacing.mainRowSpace),&#10;        contentPadding = contentPadding,&#10;    ) {&#10;        items(&#10;            items = listItems(),&#10;            key = { it.show.ids.trakt.value },&#10;        ) { item -&gt;&#10;            ContentListItem(&#10;                item = item,&#10;                modifier = Modifier.animateItem(&#10;                    fadeInSpec = null,&#10;                    fadeOutSpec = null,&#10;                ),&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun ContentListItem(&#10;    item: WatchersShow,&#10;    modifier: Modifier = Modifier,&#10;    onClick: () -&gt; Unit = {},&#10;) {&#10;    VerticalMediaCard(&#10;        title = item.show.title,&#10;        imageUrl = item.show.images?.getPosterUrl(),&#10;        onClick = onClick,&#10;        chipContent = {&#10;            InfoChip(&#10;                text = stringResource(R.string.people_eager, item.watchers.thousandsFormat()),&#10;            )&#10;        },&#10;        modifier = modifier,&#10;    )&#10;}&#10;&#10;@Preview(&#10;    device = &quot;id:pixel_5&quot;,&#10;    showBackground = true,&#10;    backgroundColor = 0xFF131517,&#10;)&#10;@Composable&#10;private fun Preview() {&#10;    TraktTheme {&#10;        ShowsHotContent(&#10;            state = ShowsHotState(&#10;                loading = IDLE,&#10;            ),&#10;        )&#10;    }&#10;}&#10;&#10;@Preview(&#10;    device = &quot;id:pixel_5&quot;,&#10;    showBackground = true,&#10;    backgroundColor = 0xFF131517,&#10;)&#10;@Composable&#10;private fun Preview2() {&#10;    TraktTheme {&#10;        ShowsHotContent(&#10;            state = ShowsHotState(&#10;                loading = LOADING,&#10;            ),&#10;        )&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/tv/trakt/trakt/core/shows/sections/hot/data/local/HotShowsLocalDataSource.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/tv/trakt/trakt/core/shows/sections/hot/data/local/HotShowsLocalDataSource.kt" />
              <option name="updatedContent" value="package tv.trakt.trakt.core.shows.sections.hot.data.local&#10;&#10;import tv.trakt.trakt.core.shows.model.WatchersShow&#10;import java.time.Instant&#10;&#10;internal interface HotShowsLocalDataSource {&#10;    suspend fun addShows(&#10;        shows: List&lt;WatchersShow&gt;,&#10;        addedAt: Instant = Instant.now(),&#10;    )&#10;&#10;    suspend fun getShows(): List&lt;WatchersShow&gt;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/tv/trakt/trakt/core/shows/sections/hot/data/local/HotShowsStorage.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/tv/trakt/trakt/core/shows/sections/hot/data/local/HotShowsStorage.kt" />
              <option name="updatedContent" value="package tv.trakt.trakt.core.shows.sections.hot.data.local&#10;&#10;import kotlinx.coroutines.sync.Mutex&#10;import kotlinx.coroutines.sync.withLock&#10;import tv.trakt.trakt.common.model.TraktId&#10;import tv.trakt.trakt.core.shows.model.WatchersShow&#10;import java.time.Instant&#10;&#10;internal class HotShowsStorage : HotShowsLocalDataSource {&#10;    private val mutex = Mutex()&#10;    private val showsCache = mutableMapOf&lt;TraktId, WatchersShow&gt;()&#10;&#10;    override suspend fun addShows(&#10;        shows: List&lt;WatchersShow&gt;,&#10;        addedAt: Instant,&#10;    ) {&#10;        mutex.withLock {&#10;            with(showsCache) {&#10;                clear()&#10;                putAll(shows.associateBy { it.show.ids.trakt })&#10;            }&#10;        }&#10;    }&#10;&#10;    override suspend fun getShows(): List&lt;WatchersShow&gt; {&#10;        return mutex.withLock {&#10;            showsCache.values.toList()&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/tv/trakt/trakt/core/shows/sections/hot/usecase/GetHotShowsUseCase.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/tv/trakt/trakt/core/shows/sections/hot/usecase/GetHotShowsUseCase.kt" />
              <option name="originalContent" value="package tv.trakt.trakt.core.shows.sections.hot.usecase&#10;&#10;import kotlinx.collections.immutable.ImmutableList&#10;import kotlinx.collections.immutable.toImmutableList&#10;import tv.trakt.trakt.common.helpers.extensions.asyncMap&#10;import tv.trakt.trakt.common.model.Show&#10;import tv.trakt.trakt.common.model.fromDto&#10;import tv.trakt.trakt.core.shows.data.remote.ShowsRemoteDataSource&#10;import tv.trakt.trakt.core.shows.model.WatchersShow&#10;&#10;internal class GetHotShowsUseCase(&#10;    private val remoteSource: ShowsRemoteDataSource,&#10;) {&#10;    suspend fun getHotShows(): ImmutableList&lt;WatchersShow&gt; {&#10;        return remoteSource.getHot(20)&#10;            .asyncMap {&#10;                WatchersShow(&#10;                    watchers = it.watchers,&#10;                    show = Show.fromDto(it.show),&#10;                )&#10;            }&#10;            .toImmutableList()&#10;            .also { shows -&gt;&#10;//                localSource.upsertShows(shows.map { it.show })&#10;            }&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package tv.trakt.trakt.core.shows.sections.hot.usecase&#10;&#10;import kotlinx.collections.immutable.ImmutableList&#10;import kotlinx.collections.immutable.toImmutableList&#10;import tv.trakt.trakt.common.model.Show&#10;import tv.trakt.trakt.common.model.fromDto&#10;import tv.trakt.trakt.core.shows.data.remote.ShowsRemoteDataSource&#10;import tv.trakt.trakt.core.shows.model.WatchersShow&#10;import tv.trakt.trakt.core.shows.sections.hot.data.local.HotShowsLocalDataSource&#10;import java.time.Instant&#10;&#10;internal class GetHotShowsUseCase(&#10;    private val remoteSource: ShowsRemoteDataSource,&#10;    private val localHotSource: HotShowsLocalDataSource,&#10;) {&#10;    suspend fun getLocalShows(): ImmutableList&lt;WatchersShow&gt; {&#10;        return localHotSource.getShows()&#10;            .sortedByDescending { it.watchers }&#10;            .toImmutableList()&#10;    }&#10;&#10;    suspend fun getHotShows(): ImmutableList&lt;WatchersShow&gt; {&#10;        return remoteSource.getHot(20)&#10;            .asyncMap {&#10;                WatchersShow(&#10;                    watchers = it.watchers,&#10;                    show = Show.fromDto(it.show),&#10;                )&#10;            }&#10;            .toImmutableList()&#10;            .also { shows -&gt;&#10;                localHotSource.addShows(&#10;                    shows = shows,&#10;                    addedAt = Instant.now(),&#10;                )&#10;            }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/tv/trakt/trakt/core/shows/sections/popular/ShowsPopularView.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/tv/trakt/trakt/core/shows/sections/popular/ShowsPopularView.kt" />
              <option name="originalContent" value="package tv.trakt.trakt.core.shows.sections.popular&#10;&#10;import androidx.compose.animation.Crossfade&#10;import androidx.compose.animation.core.tween&#10;import androidx.compose.foundation.layout.Arrangement&#10;import androidx.compose.foundation.layout.Arrangement.spacedBy&#10;import androidx.compose.foundation.layout.Column&#10;import androidx.compose.foundation.layout.PaddingValues&#10;import androidx.compose.foundation.layout.Row&#10;import androidx.compose.foundation.layout.fillMaxWidth&#10;import androidx.compose.foundation.layout.padding&#10;import androidx.compose.foundation.lazy.LazyRow&#10;import androidx.compose.foundation.lazy.items&#10;import androidx.compose.material3.Text&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.runtime.getValue&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.draw.alpha&#10;import androidx.compose.ui.res.stringResource&#10;import androidx.compose.ui.tooling.preview.Preview&#10;import androidx.lifecycle.compose.collectAsStateWithLifecycle&#10;import kotlinx.collections.immutable.ImmutableList&#10;import kotlinx.collections.immutable.toImmutableList&#10;import org.koin.androidx.compose.koinViewModel&#10;import tv.trakt.trakt.common.R&#10;import tv.trakt.trakt.common.helpers.LoadingState.DONE&#10;import tv.trakt.trakt.common.helpers.LoadingState.IDLE&#10;import tv.trakt.trakt.common.helpers.LoadingState.LOADING&#10;import tv.trakt.trakt.common.model.Show&#10;import tv.trakt.trakt.ui.components.InfoChip&#10;import tv.trakt.trakt.ui.components.mediacards.VerticalMediaCard&#10;import tv.trakt.trakt.ui.components.mediacards.skeletons.VerticalMediaSkeletonCard&#10;import tv.trakt.trakt.ui.theme.TraktTheme&#10;&#10;@Composable&#10;internal fun ShowsPopularView(&#10;    modifier: Modifier = Modifier,&#10;    viewModel: ShowsPopularViewModel = koinViewModel(),&#10;    headerPadding: PaddingValues,&#10;    contentPadding: PaddingValues,&#10;) {&#10;    val state by viewModel.state.collectAsStateWithLifecycle()&#10;&#10;    ShowsPopularContent(&#10;        state = state,&#10;        modifier = modifier,&#10;        headerPadding = headerPadding,&#10;        contentPadding = contentPadding,&#10;    )&#10;}&#10;&#10;@Composable&#10;internal fun ShowsPopularContent(&#10;    state: ShowsPopularState,&#10;    modifier: Modifier = Modifier,&#10;    headerPadding: PaddingValues = PaddingValues(),&#10;    contentPadding: PaddingValues = PaddingValues(),&#10;) {&#10;    Column(&#10;        verticalArrangement = spacedBy(TraktTheme.spacing.mainRowHeaderSpace),&#10;        modifier = modifier,&#10;    ) {&#10;        Row(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .padding(headerPadding),&#10;            horizontalArrangement = Arrangement.SpaceBetween,&#10;            verticalAlignment = Alignment.CenterVertically,&#10;        ) {&#10;            Text(&#10;                text = stringResource(R.string.header_most_popular),&#10;                color = TraktTheme.colors.textPrimary,&#10;                style = TraktTheme.typography.heading5,&#10;            )&#10;            Text(&#10;                text = stringResource(R.string.view_all).uppercase(),&#10;                color = TraktTheme.colors.textSecondary,&#10;                style = TraktTheme.typography.buttonTertiary,&#10;            )&#10;        }&#10;&#10;        Crossfade(&#10;            targetState = state.loading,&#10;            animationSpec = tween(200),&#10;        ) { loading -&gt;&#10;            when (loading) {&#10;                IDLE, LOADING -&gt; {&#10;                    ContentLoadingList(&#10;                        visible = loading.isLoading,&#10;                        contentPadding = contentPadding,&#10;                    )&#10;                }&#10;                DONE -&gt; {&#10;                    ContentList(&#10;                        listItems = { state.items ?: emptyList&lt;Show&gt;().toImmutableList() },&#10;                        contentPadding = contentPadding,&#10;                    )&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun ContentLoadingList(&#10;    visible: Boolean = true,&#10;    contentPadding: PaddingValues,&#10;) {&#10;    LazyRow(&#10;        horizontalArrangement = spacedBy(TraktTheme.spacing.mainRowSpace),&#10;        contentPadding = contentPadding,&#10;        modifier = Modifier&#10;            .fillMaxWidth()&#10;            .alpha(if (visible) 1F else 0F),&#10;    ) {&#10;        items(count = 6) {&#10;            VerticalMediaSkeletonCard()&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun ContentList(&#10;    listItems: () -&gt; ImmutableList&lt;Show&gt;,&#10;    contentPadding: PaddingValues,&#10;) {&#10;    LazyRow(&#10;        modifier = Modifier.fillMaxWidth(),&#10;        horizontalArrangement = spacedBy(TraktTheme.spacing.mainRowSpace),&#10;        contentPadding = contentPadding,&#10;    ) {&#10;        items(&#10;            items = listItems(),&#10;            key = { it.ids.trakt.value },&#10;        ) { item -&gt;&#10;            ContentListItem(&#10;                item = item,&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun ContentListItem(&#10;    item: Show,&#10;    onClick: () -&gt; Unit = {},&#10;) {&#10;    VerticalMediaCard(&#10;        title = item.title,&#10;        imageUrl = item.images?.getPosterUrl(),&#10;        onClick = onClick,&#10;        chipContent = {&#10;            InfoChip(&#10;                text = stringResource(R.string.episodes_count, item.airedEpisodes),&#10;            )&#10;        },&#10;    )&#10;}&#10;&#10;@Preview(&#10;    device = &quot;id:pixel_5&quot;,&#10;    showBackground = true,&#10;    backgroundColor = 0xFF131517,&#10;)&#10;@Composable&#10;private fun Preview() {&#10;    TraktTheme {&#10;        ShowsPopularContent(&#10;            state = ShowsPopularState(&#10;                loading = IDLE,&#10;            ),&#10;        )&#10;    }&#10;}&#10;&#10;@Preview(&#10;    device = &quot;id:pixel_5&quot;,&#10;    showBackground = true,&#10;    backgroundColor = 0xFF131517,&#10;)&#10;@Composable&#10;private fun Preview2() {&#10;    TraktTheme {&#10;        ShowsPopularContent(&#10;            state = ShowsPopularState(&#10;                loading = LOADING,&#10;            ),&#10;        )&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package tv.trakt.trakt.core.shows.sections.popular&#10;&#10;import androidx.compose.animation.Crossfade&#10;import androidx.compose.animation.core.tween&#10;import androidx.compose.foundation.layout.Arrangement&#10;import androidx.compose.foundation.layout.Arrangement.spacedBy&#10;import androidx.compose.foundation.layout.Column&#10;import androidx.compose.foundation.layout.PaddingValues&#10;import androidx.compose.foundation.layout.Row&#10;import androidx.compose.foundation.layout.fillMaxWidth&#10;import androidx.compose.foundation.layout.padding&#10;import androidx.compose.foundation.lazy.LazyRow&#10;import androidx.compose.foundation.lazy.items&#10;import androidx.compose.foundation.lazy.rememberLazyListState&#10;import androidx.compose.material3.Text&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.runtime.LaunchedEffect&#10;import androidx.compose.runtime.getValue&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.draw.alpha&#10;import androidx.compose.ui.res.stringResource&#10;import androidx.compose.ui.tooling.preview.Preview&#10;import androidx.lifecycle.compose.collectAsStateWithLifecycle&#10;import kotlinx.collections.immutable.ImmutableList&#10;import kotlinx.collections.immutable.toImmutableList&#10;import org.koin.androidx.compose.koinViewModel&#10;import tv.trakt.trakt.common.R&#10;import tv.trakt.trakt.common.helpers.LoadingState.DONE&#10;import tv.trakt.trakt.common.helpers.LoadingState.IDLE&#10;import tv.trakt.trakt.common.helpers.LoadingState.LOADING&#10;import tv.trakt.trakt.common.model.Show&#10;import tv.trakt.trakt.ui.components.InfoChip&#10;import tv.trakt.trakt.ui.components.mediacards.VerticalMediaCard&#10;import tv.trakt.trakt.ui.components.mediacards.skeletons.VerticalMediaSkeletonCard&#10;import tv.trakt.trakt.ui.theme.TraktTheme&#10;&#10;@Composable&#10;internal fun ShowsPopularView(&#10;    modifier: Modifier = Modifier,&#10;    viewModel: ShowsPopularViewModel = koinViewModel(),&#10;    headerPadding: PaddingValues,&#10;    contentPadding: PaddingValues,&#10;) {&#10;    val state by viewModel.state.collectAsStateWithLifecycle()&#10;&#10;    ShowsPopularContent(&#10;        state = state,&#10;        modifier = modifier,&#10;        headerPadding = headerPadding,&#10;        contentPadding = contentPadding,&#10;    )&#10;}&#10;&#10;@Composable&#10;internal fun ShowsPopularContent(&#10;    state: ShowsPopularState,&#10;    modifier: Modifier = Modifier,&#10;    headerPadding: PaddingValues = PaddingValues(),&#10;    contentPadding: PaddingValues = PaddingValues(),&#10;) {&#10;    Column(&#10;        verticalArrangement = spacedBy(TraktTheme.spacing.mainRowHeaderSpace),&#10;        modifier = modifier,&#10;    ) {&#10;        Row(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .padding(headerPadding),&#10;            horizontalArrangement = Arrangement.SpaceBetween,&#10;            verticalAlignment = Alignment.CenterVertically,&#10;        ) {&#10;            Text(&#10;                text = stringResource(R.string.header_most_popular),&#10;                color = TraktTheme.colors.textPrimary,&#10;                style = TraktTheme.typography.heading5,&#10;            )&#10;            Text(&#10;                text = stringResource(R.string.view_all).uppercase(),&#10;                color = TraktTheme.colors.textSecondary,&#10;                style = TraktTheme.typography.buttonTertiary,&#10;            )&#10;        }&#10;&#10;        Crossfade(&#10;            targetState = state.loading,&#10;            animationSpec = tween(200),&#10;        ) { loading -&gt;&#10;            when (loading) {&#10;                IDLE, LOADING -&gt; {&#10;                    ContentLoadingList(&#10;                        visible = loading.isLoading,&#10;                        contentPadding = contentPadding,&#10;                    )&#10;                }&#10;                DONE -&gt; {&#10;                    ContentList(&#10;                        listItems = { state.items ?: emptyList&lt;Show&gt;().toImmutableList() },&#10;                        contentPadding = contentPadding,&#10;                    )&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun ContentLoadingList(&#10;    visible: Boolean = true,&#10;    contentPadding: PaddingValues,&#10;) {&#10;    LazyRow(&#10;        horizontalArrangement = spacedBy(TraktTheme.spacing.mainRowSpace),&#10;        contentPadding = contentPadding,&#10;        modifier = Modifier&#10;            .fillMaxWidth()&#10;            .alpha(if (visible) 1F else 0F),&#10;    ) {&#10;        items(count = 6) {&#10;            VerticalMediaSkeletonCard()&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun ContentList(&#10;    listItems: () -&gt; ImmutableList&lt;Show&gt;,&#10;    contentPadding: PaddingValues,&#10;) {&#10;    val state = rememberLazyListState()&#10;&#10;    LaunchedEffect(listItems()) {&#10;        state.animateScrollToItem(0)&#10;    }&#10;&#10;    LazyRow(&#10;        state = state,&#10;        modifier = Modifier.fillMaxWidth(),&#10;        horizontalArrangement = spacedBy(TraktTheme.spacing.mainRowSpace),&#10;        contentPadding = contentPadding,&#10;    ) {&#10;        items(&#10;            items = listItems(),&#10;            key = { it.ids.trakt.value },&#10;        ) { item -&gt;&#10;            ContentListItem(&#10;                item = item,&#10;                modifier = Modifier.animateItem(&#10;                    fadeInSpec = null,&#10;                    fadeOutSpec = null,&#10;                ),&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun ContentListItem(&#10;    item: Show,&#10;    modifier: Modifier = Modifier,&#10;    onClick: () -&gt; Unit = {},&#10;) {&#10;    VerticalMediaCard(&#10;        title = item.title,&#10;        imageUrl = item.images?.getPosterUrl(),&#10;        onClick = onClick,&#10;        chipContent = {&#10;            InfoChip(&#10;                text = stringResource(R.string.episodes_count, item.airedEpisodes),&#10;            )&#10;        },&#10;        modifier = modifier,&#10;    )&#10;}&#10;&#10;@Preview(&#10;    device = &quot;id:pixel_5&quot;,&#10;    showBackground = true,&#10;    backgroundColor = 0xFF131517,&#10;)&#10;@Composable&#10;private fun Preview() {&#10;    TraktTheme {&#10;        ShowsPopularContent(&#10;            state = ShowsPopularState(&#10;                loading = IDLE,&#10;            ),&#10;        )&#10;    }&#10;}&#10;&#10;@Preview(&#10;    device = &quot;id:pixel_5&quot;,&#10;    showBackground = true,&#10;    backgroundColor = 0xFF131517,&#10;)&#10;@Composable&#10;private fun Preview2() {&#10;    TraktTheme {&#10;        ShowsPopularContent(&#10;            state = ShowsPopularState(&#10;                loading = LOADING,&#10;            ),&#10;        )&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/tv/trakt/trakt/core/shows/sections/popular/data/local/PopularShowsLocalDataSource.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/tv/trakt/trakt/core/shows/sections/popular/data/local/PopularShowsLocalDataSource.kt" />
              <option name="updatedContent" value="package tv.trakt.trakt.core.shows.sections.popular.data.local&#10;&#10;import tv.trakt.trakt.common.model.Show&#10;import java.time.Instant&#10;&#10;internal interface PopularShowsLocalDataSource {&#10;    suspend fun addShows(&#10;        shows: List&lt;Show&gt;,&#10;        addedAt: Instant = Instant.now(),&#10;    )&#10;&#10;    suspend fun getShows(): List&lt;Show&gt;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/tv/trakt/trakt/core/shows/sections/popular/data/local/PopularShowsStorage.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/tv/trakt/trakt/core/shows/sections/popular/data/local/PopularShowsStorage.kt" />
              <option name="updatedContent" value="package tv.trakt.trakt.core.shows.sections.popular.data.local&#10;&#10;import kotlinx.coroutines.sync.Mutex&#10;import kotlinx.coroutines.sync.withLock&#10;import tv.trakt.trakt.common.model.Show&#10;import tv.trakt.trakt.common.model.TraktId&#10;import java.time.Instant&#10;&#10;internal class PopularShowsStorage : PopularShowsLocalDataSource {&#10;    private val mutex = Mutex()&#10;    private val showsCache = mutableMapOf&lt;TraktId, Show&gt;()&#10;&#10;    override suspend fun addShows(&#10;        shows: List&lt;Show&gt;,&#10;        addedAt: Instant,&#10;    ) {&#10;        mutex.withLock {&#10;            with(showsCache) {&#10;                clear()&#10;                putAll(shows.associateBy { it.ids.trakt })&#10;            }&#10;        }&#10;    }&#10;&#10;    override suspend fun getShows(): List&lt;Show&gt; {&#10;        return mutex.withLock {&#10;            showsCache.values.toList()&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/tv/trakt/trakt/core/shows/sections/popular/usecase/GetPopularShowsUseCase.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/tv/trakt/trakt/core/shows/sections/popular/usecase/GetPopularShowsUseCase.kt" />
              <option name="originalContent" value="package tv.trakt.trakt.core.shows.sections.popular.usecase&#10;&#10;import kotlinx.collections.immutable.ImmutableList&#10;import kotlinx.collections.immutable.toImmutableList&#10;import tv.trakt.trakt.common.helpers.extensions.asyncMap&#10;import tv.trakt.trakt.common.model.Show&#10;import tv.trakt.trakt.common.model.fromDto&#10;import tv.trakt.trakt.core.shows.data.remote.ShowsRemoteDataSource&#10;&#10;internal class GetPopularShowsUseCase(&#10;    private val remoteSource: ShowsRemoteDataSource,&#10;) {&#10;    suspend fun getPopularShows(): ImmutableList&lt;Show&gt; {&#10;        return remoteSource.getPopular(20)&#10;            .asyncMap {&#10;                Show.fromDto(it)&#10;            }&#10;            .toImmutableList()&#10;            .also {&#10;//                localSource.upsertShows(it)&#10;            }&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package tv.trakt.trakt.core.shows.sections.popular.usecase&#10;&#10;import kotlinx.collections.immutable.ImmutableList&#10;import kotlinx.collections.immutable.toImmutableList&#10;import tv.trakt.trakt.common.helpers.extensions.asyncMap&#10;import tv.trakt.trakt.common.model.Show&#10;import tv.trakt.trakt.common.model.fromDto&#10;import tv.trakt.trakt.core.shows.data.remote.ShowsRemoteDataSource&#10;import tv.trakt.trakt.core.shows.sections.popular.data.local.PopularShowsLocalDataSource&#10;import java.time.Instant&#10;&#10;internal class GetPopularShowsUseCase(&#10;    private val remoteSource: ShowsRemoteDataSource,&#10;    private val localPopularSource: PopularShowsLocalDataSource,&#10;) {&#10;    suspend fun getLocalShows(): ImmutableList&lt;Show&gt; {&#10;        return localPopularSource.getShows()&#10;            .toImmutableList()&#10;    }&#10;&#10;    suspend fun getPopularShows(): ImmutableList&lt;Show&gt; {&#10;        return remoteSource.getPopular(20)&#10;            .asyncMap {&#10;                Show.fromDto(it)&#10;            }&#10;            .toImmutableList()&#10;            .also { shows -&gt;&#10;                localPopularSource.addShows(&#10;                    shows = shows,&#10;                    addedAt = Instant.now(),&#10;                )&#10;            }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/tv/src/main/java/tv/trakt/trakt/app/core/home/sections/recommended/HomeRecommendedViewModel.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/tv/src/main/java/tv/trakt/trakt/app/core/home/sections/recommended/HomeRecommendedViewModel.kt" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/tv/src/main/java/tv/trakt/trakt/app/core/home/sections/recommended/usecases/GetRecommendedUseCase.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/tv/src/main/java/tv/trakt/trakt/app/core/home/sections/recommended/usecases/GetRecommendedUseCase.kt" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>